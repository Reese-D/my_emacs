<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>EmacsWiki: Face</title><link rel="alternate" type="application/wiki" title="Modifica questa pagina" href="https://www.emacswiki.org/emacs?action=edit;id=Face" /><link type="text/css" rel="stylesheet" href="https://www.emacswiki.org/light.css" /><meta name="robots" content="INDEX,FOLLOW" /><link rel="alternate" type="application/rss+xml" title="EmacsWiki" href="https://www.emacswiki.org/emacs?action=rss" /><link rel="alternate" type="application/rss+xml" title="EmacsWiki: Face" href="https://www.emacswiki.org/emacs?action=rss;rcidonly=Face" />
<link rel="alternate" type="application/rss+xml"
      title="Emacs Wiki with page content"
      href="https://www.emacswiki.org/full.rss" />
<link rel="alternate" type="application/rss+xml"
      title="Emacs Wiki with page content and diff"
      href="https://www.emacswiki.org/full-diff.rss" />
<link rel="alternate" type="application/rss+xml"
      title="Emacs Wiki including minor differences"
      href="https://www.emacswiki.org/minor-edits.rss" />
<link rel="alternate" type="application/rss+xml"
      title="Changes for Face only"
      href="https://www.emacswiki.org/emacs?action=rss;rcidonly=Face" /><meta name="viewport" content="width=device-width" />
<script type="text/javascript" src="/outliner.0.5.0.62-toc.js"></script>
<script type="text/javascript">

  function addOnloadEvent(fnc) {
    if ( typeof window.addEventListener != "undefined" )
      window.addEventListener( "load", fnc, false );
    else if ( typeof window.attachEvent != "undefined" ) {
      window.attachEvent( "onload", fnc );
    }
    else {
      if ( window.onload != null ) {
	var oldOnload = window.onload;
	window.onload = function ( e ) {
	  oldOnload( e );
	  window[fnc]();
	};
      }
      else
	window.onload = fnc;
    }
  }

  // https://stackoverflow.com/questions/280634/endswith-in-javascript
  if (typeof String.prototype.endsWith !== 'function') {
    String.prototype.endsWith = function(suffix) {
      return this.indexOf(suffix, this.length - suffix.length) !== -1;
    };
  }

  var initToc=function() {

    var outline = HTML5Outline(document.body);
    if (outline.sections.length == 1) {
      outline.sections = outline.sections[0].sections;
    }

    if (outline.sections.length > 1
	|| outline.sections.length == 1
           && outline.sections[0].sections.length > 0) {

      var toc = document.getElementById('toc');

      if (!toc) {
	var divs = document.getElementsByTagName('div');
	for (var i = 0; i < divs.length; i++) {
	  if (divs[i].getAttribute('class') == 'toc') {
	    toc = divs[i];
	    break;
	  }
	}
      }

      if (!toc) {
	var h2 = document.getElementsByTagName('h2')[0];
	if (h2) {
	  toc = document.createElement('div');
	  toc.setAttribute('class', 'toc');
	  h2.parentNode.insertBefore(toc, h2);
	}
      }

      if (toc) {
        var html = outline.asHTML(true);
        toc.innerHTML = html;

	items = toc.getElementsByTagName('a');
	for (var i = 0; i < items.length; i++) {
	  while (items[i].textContent.endsWith('âœŽ')) {
            var text = items[i].childNodes[0].nodeValue;
	    items[i].childNodes[0].nodeValue = text.substring(0, text.length - 1);
	  }
	}
      }
    }
  }

  addOnloadEvent(initToc);
  </script>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /></head><body class="default"><div class="header"><a class="logo" href="https://www.emacswiki.org/emacs/Mappa_del_sito"><img alt="[Home]" src="https://www.emacswiki.org/images/logo218x38.png" class="logo" /></a><div class="menu"><span class="gotobar bar"><a href="https://www.emacswiki.org/emacs/SiteMap" class="local">SiteMap</a> <a class="local" href="https://www.emacswiki.org/emacs/Search">Search</a> <a class="local" href="https://www.emacswiki.org/emacs/ElispArea">ElispArea</a> <a class="local" href="https://www.emacswiki.org/emacs/HowTo">HowTo</a> <a class="local" href="https://www.emacswiki.org/emacs/Glossary">Glossary</a> <a class="local" href="https://www.emacswiki.org/emacs/RecentChanges">RecentChanges</a> <a class="local" href="https://www.emacswiki.org/emacs/News">News</a> <a href="https://www.emacswiki.org/emacs/Problems" class="local">Problems</a> <a class="local" href="https://www.emacswiki.org/emacs/Suggestions">Suggestions</a> </span><form method="get" action="https://www.emacswiki.org/emacs" enctype="multipart/form-data" class="search" accept-charset="utf-8"><p><label for="search">Cerca:</label> <input type="text" name="search"  size="20" accesskey="f" id="search" /> <label for="searchlang">Lingua:</label> <input type="text" name="lang"  size="10" id="searchlang" /> <input type="submit" name="dosearch" value="Vai!" /></p></form></div><h1><a rel="nofollow" href="https://www.emacswiki.org/emacs?search=%22Face%22" title="Clicca per cercare riferimenti a questa pagina">Face</a></h1></div><div class="wrapper"><div class="content browse"><p>A <strong><a name="face" title="Clicca per cercare riferimenti a questa ancora permanente" class="definition" rel="nofollow" href="https://www.emacswiki.org/emacs?search=%22face%22">face</a></strong> provides text with various visible properties, such as color and font.</p><div class="color one level0"><p> We need a clear description of the relation between <em>fonts</em> and <em>faces</em>. &#x2013; <a class="local" href="https://www.emacswiki.org/emacs/DrewAdams">DrewAdams</a></p></div><h2>Finding the Face at Point</h2><p>You can use `<code>C-u C-x =</code>&#x2019; to find out which faces are applied to the text at <a href="https://www.emacswiki.org/emacs/point" class="local">point</a> (under the <a class="local" href="https://www.emacswiki.org/emacs/cursor">cursor</a>).</p><p>Alternatively, you can use <code>&#x2018;M-x describe-face RET&#x2019;</code>. The faces used are listed as the default value for <a href="https://www.emacswiki.org/emacs/completion" class="local">completion</a>.</p><div class="color one level0"><dl class="quote"><dt /><dd>If you use <a class="local" href="https://www.emacswiki.org/emacs/Icicles">Icicles</a>, then <code>&#x2018;describe-face&#x2019;</code> shows the face-name candidates in buffer <code>&#x2018;*Completions*&#x2019;</code> using their own faces &#x2013; WYSIWYG. (<a class="local anchor" href="http://www.emacswiki.org/emacs/Icicles_-_Customization_and_General_Tips#icicle-WYSIWYG-Completions-flag">Screenshot</a>) &#x2013; <a href="https://www.emacswiki.org/emacs/DrewAdams" class="local">DrewAdams</a></dd></dl></div><div class="color two level0"><p> Use <code>&#x2018;M-x describe-text-properties RET&#x2019;</code> to learn all faces being used at point: faces for overlays at point (as in flyspell incorrect words), face which in turn is a list of faces (as in org mode tags). &#x2013; <a href="https://www.emacswiki.org/emacs/JisangYoo" class="local">JisangYoo</a></p></div><h2>Faces and Emacs Lisp</h2><p>A symbol can be used as a face, if it has the face property. Check it out by evaluating the following:</p><pre>    (apropos <span class="string">"font-lock-comment-face"</span>)</pre><p>This will show you that the symbol <code>font-lock-comment-face</code> has a variable value. You can examine the value and read the <a class="local" href="https://www.emacswiki.org/emacs/DocString">DocString</a> by clicking on &#x201c;Variable&#x201d;. The value is the symbol <code>font-lock-comment-face</code> &#x2013; it stores its own &#x201c;name&#x201d; or &#x201c;pointer&#x201d;!</p><p>Therefore, you can use <code>font-lock-comment-face</code> as a variable. It will evaluate to the symbol with the same name. And the symbol is a valid face because it has the face property.</p><p>Check the output of <code>apropos</code> again. If you click on &#x201c;Face&#x201d; you will be put in a customization buffer where you can edit the value of the font &#x201c;spec&#x201d;. The spec is a data structure specifying how text should look.</p><div class="color one level0"><p> The above description is confusing. A face need not have a variable associated with it. In fact, nowadays, faces are typically <em>not</em> associated with variables. Font-lock faces are an exception in this regard. &#x2013; <a class="local" href="https://www.emacswiki.org/emacs/DrewAdams">DrewAdams</a></p></div><div class="color two level0"><p> Is it possible to add the <code>&#x2018;invisible&#x2019;</code> property to a face? I want to be able to hide/show regions defined by a face so font-lock can take care of the work for me. &#x2013; <a href="https://www.emacswiki.org/emacs/PatrickAnderson" class="local">PatrickAnderson</a> </p></div><div class="color one level0"><dl class="quote"><dt /><dd>No, because <code>&#x2018;face&#x2019;</code> and <code>&#x2018;invisible&#x2019;</code> are different text properties. The <code>&#x2018;face&#x2019;</code> property can have a value such as <code>&#x2018;bold&#x2019;</code>, and the <code>&#x2018;invisible&#x2019;</code> porperty can have a value such as <code>&#x2018;t&#x2019;</code>. But there is no face that makes text invisible. Adding such a face was discussed on emacs-devel. You can emulate such a thing though with some elisp. See the <a href="https://www.emacswiki.org/emacs/EmacsManual" class="local">EmacsManual</a> (`<code>C-h i RET g (emacs)faces RET</code>&#x2019;) &#x2013; <a href="https://www.emacswiki.org/emacs/AlexSchroeder" class="local">AlexSchroeder</a></dd></dl></div><div class="color two level0"><p> Is it possible to undefine a face, using something like `<code>makunbound</code>&#x2019;? I&#x2019;d like to experiment with different calls to defface, but only the first one takes effect. &#x2013; <a href="https://www.emacswiki.org/emacs/EthanGlasserCamp" class="local">EthanGlasserCamp</a></p></div><div class="color one level0"><p> It probably is possible, but I don&#x2019;t know how. You can look in library <code>faces.el</code>, but you might also need to check some C code. Dunno.</p><p>But what you describe needing is not really to undefine a face in the sense of <code>&#x2018;makunbound&#x2019;</code> (so that <code>&#x2018;facep&#x2019;</code> will return <code>&#x2018;nil&#x2019;</code>) but simply to either (a) redefine it or (b) set all of its attributes to <code>&#x2018;undefined&#x2019;</code>.</p><p>For (a), you can just put the cursor inside a given <code>&#x2018;defface&#x2019;</code> definition for the face and then hit <code>&#x2018;C-M-x&#x2019;</code> to put that definition into effect. This is just like using <code>&#x2018;C-M-x&#x2019;</code> on a <code>&#x2018;defun&#x2019;</code>.</p><p>For (b), you can use <code>&#x2018;set-face-attribute&#x2019;</code> or you can just do <em>either</em> of these, where <code>&#x2018;the-face&#x2019;</code> is the face for which you want to reset all the attributes to <code>&#x2018;unspecified&#x2019;</code>:</p><pre>  M-: (face-spec-reset-face 'the-face)
  M-: (modify-face 'the-face)</pre><p>&#x2013; <a href="https://www.emacswiki.org/emacs/DrewAdams" class="local">DrewAdams</a></p></div><div class="color two level0"><p> No, I actually do want it to be undefined, because defface won&#x2019;t take effect if the face already exists. (This is true even in emacs version 23.1.50 from emacs-snapshot.) Checking the C code was a good idea, and it looks like I should be able to remove the face from face-new-frame-defaults, but if I do that, I get into a weird undefined state where the face is in the frame-face-alist and I still can&#x2019;t define a new face. Oh well, I guess I&#x2019;ll just defface a bunch of new faces until I get to a definition I like, and then restart emacs and only use that one. &#x2013; <a href="https://www.emacswiki.org/emacs/EthanGlasserCamp" class="local">EthanGlasserCamp</a></p></div><div class="color one level0"><p> Why do you say that the <code>&#x2018;defface&#x2019;</code> won&#x2019;t take effect? Did you try it? If you put the cursor inside a <code>&#x2018;defface&#x2019;</code> expression and hit <code>&#x2018;C-M-x&#x2019;</code> then the <code>&#x2018;defface&#x2019;</code> does take effect anew. You can see this easily by changing some setting in the <code>&#x2018;defface&#x2019;</code> and doing it again. This will not work with old versions of Emacs (e.g. Emacs 20), but it works starting at least with Emacs 22. You can see this mentioned in node <code>&#x2018;Lisp Eval&#x2019;</code> of the Emacs manual: <a class="manual" href="http://www.emacswiki.org/cgi-bin/info-ref?find=Lisp%20Eval">Lisp Eval</a>. It says this:</p><pre>  Typing C-M-x on a defface expression reinitializes the
  face according to the defface specification.</pre><p>&#x2013; <a href="https://www.emacswiki.org/emacs/DrewAdams" class="local">DrewAdams</a></p></div><div class="color two level0"><p> For those who want to undefine a face in order to replace the face&#x2019;s original defface spec with one&#x2019;s own defface spec, they may achieve similar effects without undefining the face by either 1. going to the Customize interface for the face and clicking on <code>&#x2018;State&#x2019;</code> then on <code>&#x2018;For All Kinds of Displays&#x2019;</code> and start customizing, or 2. customizing the face so that it simply inherits from a new face which is defined with a defface form in the init file. --<a class="local" href="https://www.emacswiki.org/emacs/JisangYoo">JisangYoo</a></p></div><hr /><p><a class="local" href="https://www.emacswiki.org/emacs/CategoryGlossary">CategoryGlossary</a></p></div><div class="wrapper close"></div></div><div class="footer"><hr /><span class="translation bar"><br />  <a rel="nofollow" href="https://www.emacswiki.org/emacs?action=translate;id=Face;missing=de_es_fr_it_ja_ko_pt_ru_se_uk_zh" class="translation new">Add Translation</a></span><div class="edit bar"><a class="comment local edit" href="https://www.emacswiki.org/emacs/Comments_on_Face" accesskey="c">Discussione</a> <a href="https://www.emacswiki.org/emacs?action=edit;id=Face" rel="nofollow" class="edit" title="Cliccare per modificare questa pagina" accesskey="e">Modifica questa pagina</a> <a rel="nofollow" href="https://www.emacswiki.org/emacs?action=history;id=Face" class="history">Guarda altre revisioni</a> <a rel="nofollow" href="https://www.emacswiki.org/emacs?action=admin;id=Face" class="admin">Amministrazione</a></div><div class="time">Modificata l'ultima volta 2013-09-17 22:19 UTC da <a href="https://www.emacswiki.org/emacs/JisangYoo" title="125.138.115.74" class="author">JisangYoo</a> <a href="https://www.emacswiki.org/emacs?action=browse;diff=2;id=Face" rel="nofollow" class="diff">(diff)</a></div><div style="float:right; margin-left:1ex;">
<!-- Creative Commons License -->
<a class="licence" href="https://creativecommons.org/licenses/GPL/2.0/"><img alt="CC-GNU GPL" style="border:none" src="/pics/cc-GPL-a.png" /></a>
<!-- /Creative Commons License -->
</div>

<!--
<rdf:RDF xmlns="http://web.resource.org/cc/"
 xmlns:dc="http://purl.org/dc/elements/1.1/"
 xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
<Work rdf:about="">
   <license rdf:resource="https://creativecommons.org/licenses/GPL/2.0/" />
  <dc:type rdf:resource="http://purl.org/dc/dcmitype/Software" />
</Work>

<License rdf:about="https://creativecommons.org/licenses/GPL/2.0/">
   <permits rdf:resource="http://web.resource.org/cc/Reproduction" />
   <permits rdf:resource="http://web.resource.org/cc/Distribution" />
   <requires rdf:resource="http://web.resource.org/cc/Notice" />
   <permits rdf:resource="http://web.resource.org/cc/DerivativeWorks" />
   <requires rdf:resource="http://web.resource.org/cc/ShareAlike" />
   <requires rdf:resource="http://web.resource.org/cc/SourceCode" />
</License>
</rdf:RDF>
-->

<p class="legal">
This work is licensed to you under version 2 of the
<a href="https://www.gnu.org/">GNU</a> <a href="/GPL">General Public License</a>.
Alternatively, you may choose to receive this work under any other
license that grants the right to use, copy, modify, and/or distribute
the work, as long as that license imposes the restriction that
derivative works have to grant the same rights and impose the same
restriction. For example, you may choose to receive this work under
the
<a href="https://www.gnu.org/">GNU</a>
<a href="/FDL">Free Documentation License</a>, the
<a href="https://creativecommons.org/">CreativeCommons</a>
<a href="https://creativecommons.org/licenses/sa/1.0/">ShareAlike</a>
License, the XEmacs manual license, or
<a href="/OLD">similar licenses</a>.
</p>
<p class="legal" style="padding-top: 0.5em">Please note our <a href="Privacy">Privacy Statement</a>.</p>
</div>
</body>
</html>
